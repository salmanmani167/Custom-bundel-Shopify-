<div class="image_with__text-container">
    {% if section.settings.content != blank or section.settings.scontent != blank  %}
        <div class="image_with__text-header">
            {% if section.settings.content != blank %}
                <div class="image_with__text-theader">
            {{ section.settings.content }}
                </div>
            {% endif %}

            {% if section.settings.scontent != blank %}
            <div class="image_with__text-sheader">
                {{ section.settings.scontent }}
            </div>
        {% endif %}
        </div>
    {% endif %}

    {% if section.settings.img != blank or section.blocks.size > 0 %}
        <div class="image_with__text-inner">
            {% if section.settings.img != blank %}
            <div class="image_with__text-col">
                <img src="{{ section.settings.img | img_url: 'master'}}">
            </div>
            {% endif %}
            {% if section.blocks.size > 0 %}
            <div class="image_with__text-col">
                {% assign listitems = section.blocks | where: "type", "list" %}
                {% assign tableheader = section.blocks | where: "type", "dataheader" %}
                {% assign tabledata = section.blocks | where: "type", "datatable" %}

                {% if listitems.size > 0 %}
                    <ul class="image_with__text-list-items">
                        {% for list in listitems %}
                            <li>
                                <span class="check">
                                    <svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2 5.57143L5 9L12 1" stroke="#F2542C" stroke-width="3"/>
                                    </svg>
                                </span>
                                <span class="content">
                                    {{ list.settings.listtext }}
                                </span>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}

                {% if tableheader.size > 0 or tabledata.size > 0 %}
                    <table class="image_with__text-table">
                        {% for block in section.blocks %}
                            {% case block.type %}
                            {% when 'dataheader'%}
                                <thead class="table--header">
                                <tr class="image_with__text-table-row">
                                    <td class="image_with__text-table-col {% if block.settings.imgitem1 != blank %} withimage{% endif%}">
                                        {% if block.settings.imgitem1 != blank %}
                                            <img src='{{ block.settings.imgitem1 | img_url: 'master'}}'>
                                        {% else %}
                                            {{ block.settings.ttext1 }}
                                        {% endif %}
                                    </td>
                                    <td class="image_with__text-table-col {% if block.settings.imgitem2 != blank %} withimage{% endif%}">
                                        {% if block.settings.imgitem2 != blank %}
                                            <img src='{{ block.settings.imgitem2 | img_url: 'master'}}'>
                                        {% else %}
                                            {{ block.settings.ttext2 }}
                                        {% endif %}
                                    </td>
                                    <td class="image_with__text-table-col {% if block.settings.imgitem3 != blank %} withimage{% endif%}">
                                        {% if block.settings.imgitem3 != blank %}
                                            <img src='{{ block.settings.imgitem3 | img_url: 'master'}}'>
                                        {% else %}
                                            {{ block.settings.ttext3 }}
                                        {% endif %}
                                    </td>
                                    <td class="image_with__text-table-col {% if block.settings.imgitem4 != blank %} withimage{% endif%}">
                                        {% if block.settings.imgitem4 != blank %}
                                            <img src='{{ block.settings.imgitem4 | img_url: 'master'}}'>
                                        {% else %}
                                            {{ block.settings.ttext4 }}
                                        {% endif %}
                                    </td>
                                </tr>
                            </thead>
                            {% when 'datatable'%}
                                <tr class="image_with__text-table-row">
                                    <td class="image_with__text-table-col">
                                        {% if block.settings.ttext1 != blank %}
                                            {{ block.settings.ttext1 }}
                                        {% endif %}
                                    </td>
                                    <td class="image_with__text-table-col">
                                        {% if block.settings.tcol1 != blank %}
                                            <span class="checkicon">
                                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect width="18" height="18" rx="9" fill="#F2542C"/>
                                                    <path d="M5 9.42857L7.4 12L13 6" stroke="white" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% else %}
                                            <span class="crossicon">
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.14148 6.5021C12.7013 2.72934 19.2987 2.72934 23.8585 6.5021C26.1366 8.387 27.6614 11.0279 28.1547 13.9433C29.1421 19.7786 25.8434 25.4921 20.2962 27.5546C17.5247 28.5851 14.4753 28.5851 11.7038 27.5546C6.15664 25.4921 2.85792 19.7786 3.84532 13.9433C4.33863 11.0279 5.86337 8.387 8.14148 6.5021Z" fill="white"/>
                                                    <path d="M11.0003 21L16.0002 16M16.0002 16L21.0002 11M16.0002 16L21 21M16.0002 16L11 11" stroke="#2B2A2C" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% endif %}
                                    </td>

                                    <td class="image_with__text-table-col">
                                        {% if block.settings.tcol2 != blank %}
                                            <span class="checkicon">
                                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect width="18" height="18" rx="9" fill="#F2542C"/>
                                                    <path d="M5 9.42857L7.4 12L13 6" stroke="white" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% else %}
                                            <span class="crossicon">
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.14148 6.5021C12.7013 2.72934 19.2987 2.72934 23.8585 6.5021C26.1366 8.387 27.6614 11.0279 28.1547 13.9433C29.1421 19.7786 25.8434 25.4921 20.2962 27.5546C17.5247 28.5851 14.4753 28.5851 11.7038 27.5546C6.15664 25.4921 2.85792 19.7786 3.84532 13.9433C4.33863 11.0279 5.86337 8.387 8.14148 6.5021Z" fill="white"/>
                                                    <path d="M11.0003 21L16.0002 16M16.0002 16L21.0002 11M16.0002 16L21 21M16.0002 16L11 11" stroke="#2B2A2C" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% endif %}
                                    </td>

                                    <td class="image_with__text-table-col">
                                        {% if block.settings.tcol3 != blank %}
                                            <span class="checkicon">
                                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <rect width="18" height="18" rx="9" fill="#F2542C"/>
                                                    <path d="M5 9.42857L7.4 12L13 6" stroke="white" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% else %}
                                            <span class="crossicon">
                                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M8.14148 6.5021C12.7013 2.72934 19.2987 2.72934 23.8585 6.5021C26.1366 8.387 27.6614 11.0279 28.1547 13.9433C29.1421 19.7786 25.8434 25.4921 20.2962 27.5546C17.5247 28.5851 14.4753 28.5851 11.7038 27.5546C6.15664 25.4921 2.85792 19.7786 3.84532 13.9433C4.33863 11.0279 5.86337 8.387 8.14148 6.5021Z" fill="white"/>
                                                    <path d="M11.0003 21L16.0002 16M16.0002 16L21.0002 11M16.0002 16L21 21M16.0002 16L11 11" stroke="#2B2A2C" stroke-width="2"/>
                                                </svg>
                                            </span>
                                        {% endif %}
                                    </td>
                                </tr>
                            {% endcase %}
                        {% endfor %}
                    </table>
                {% endif %}
                {% if section.settings.btntext != blank %}
                    <div class="view__all-button">
                        <a href="{{ section.settings.btnurl }}">{{ section.settings.btntext }}</a>
                    </div>
                {% endif %}
            </div>
            {% endif %}
        </div>
    {% endif %}

</div>
<style>
    #shopify-section-{{ section.id }}{
        padding: 38px 24px;
        border-bottom: 1px solid #000;
        background-color: {{ section.settings.bgcolor }};
    }
    #shopify-section-{{ section.id }} .image_with__text-container{
        max-width: 1080px;
        margin-left: auto;
        margin-right: auto;
    }

    #shopify-section-{{ section.id }} .image_with__text-theader {
        text-align: center;
        font-size: 24px;
        font-weight: 600;
    }

    #shopify-section-{{ section.id }} .image_with__text-theader,
    #shopify-section-{{ section.id }} .image_with__text-theader p{
        font-weight: 600;
        font-family: 'Sora', sans-serif !important;
    }

    #shopify-section-{{ section.id }} .image_with__text-theader strong{
        color:#F2542C;
        font-weight: 600;
    }

    #shopify-section-{{ section.id }} ul.image_with__text-list-items {
        list-style: none;
        margin: 0px 0 0px 0;
        padding: 0;
    }
    #shopify-section-{{ section.id }} ul.image_with__text-list-items li{
        font-size: 16px;
        line-height: 1.2;
        display: flex;
        align-items: center;
        column-gap: 8px;
        margin-bottom: 12px;
    }

    #shopify-section-{{ section.id }} ul.image_with__text-list-items li .check{
        width: 18px;
        height: 18px;
    }

    #shopify-section-{{ section.id }} .image_with__text-table {
        border: 1px solid #f2542c;
        border-radius: 5px;
        overflow: hidden;
        border-collapse: unset;
        width: 100%;
        margin-bottom: 28px;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-row {
        display: flex;
        background-color: #fff;
    }

    #shopify-section-{{ section.id }}  .table--header .image_with__text-table-row{
        background-color: #fff7f4;
    }

    #shopify-section-{{ section.id }} .table--header .image_with__text-table-row .image_with__text-table-col{
        color: #F2542C;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-row .image_with__text-table-col{
        padding: 13px 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-size: 12px;
        color: #1C1B1B;
        font-weight: bold;
        line-height: 1.2;
    }


    #shopify-section-{{ section.id }} .image_with__text-table-row .image_with__text-table-col.withimage{
        padding: 13px 8px;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-row.table--header {
        background-color: #FFF7F4;
    }

    #shopify-section-{{ section.id }} td.image_with__text-table-col:first-child,
    #shopify-section-{{ section.id }} td.image_with__text-table-col:nth-child(2),
    #shopify-section-{{ section.id }} td.image_with__text-table-col.withimage{
        width: 30%;
        max-width: 100%;
        border-color: #f2542c;
    }

    #shopify-section-{{ section.id }} tr:not(:last-child),
    #shopify-section-{{ section.id }} .table--header tr{
        border-bottom: 1px solid #f2542c !important;
    }

    #shopify-section-{{ section.id }} td.image_with__text-table-col{
        width: 20%;
        max-width: 100%;
        border-color: #f2542c;
    }

    #shopify-section-{{ section.id }} td.image_with__text-table-col:not(:last-child){
        border-right: 1px solid #f2542c !important;
        border-left: none !important;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-row.table--header .image_with__text-table-col{
        font-size: 10px;
        font-weight: bold;
        color: #F2542C;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-col .checkicon{
        width: 24px;
        height: 24px;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-col .crossicon{
        width: 24px;
        height: 24px;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-col svg {
        vertical-align: middle;
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-col:not(:last-child) {
        border-right: 1px solid #f2542c;
    }

    #shopify-section-{{ section.id }} .image_with__text-table-row:not(:last-child) .image_with__text-table-col{
        border-bottom: 1px solid #f2542c;
    }

    #shopify-section-{{ section.id }} .view__all-button a{
        display: block;
        /* padding: 18px;
        font-size: 16px; */
        font-size:24px;
        padding: 25px 18px;
        font-weight: bold;
        letter-spacing: 0.04em;
        text-transform: UPPERCASE;
        color: #fff;
        /* background-color: #F2542C;
        border: 1px solid #000; */
        border-radius: 6px;
        background: #00bd4c;
        width: 100%;
        text-align: center;
        margin-left: auto;
        margin-right: auto;
            text-decoration: none;
      line-height: 1;
    }

    @media (min-width: 769px){
        #shopify-section-{{ section.id }} .image_with__text-theader {
            margin-bottom: 41px;
        }

        #shopify-section-{{ section.id }} .image_with__text-container .image_with__text-inner{
            display: flex;
            gap: 63px;
        }

        #shopify-section-{{ section.id }} .image_with__text-container .image_with__text-inner .image_with__text-col:first-child{
            width: 40%;
        }

        #shopify-section-{{ section.id }} .image_with__text-container .image_with__text-inner .image_with__text-col:last-child{
            width: 60%;
        }

        #shopify-section-{{ section.id }} .image_with__text-inner .image_with__text-col:first-child {
            height: 576px;
        }

        #shopify-section-{{ section.id }} .image_with__text-inner .image_with__text-col:first-child img{
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #shopify-section-{{ section.id }} td.image_with__text-table-col{
            width: 12%;
        }

        #shopify-section-{{ section.id }} td.image_with__text-table-col:nth-child(2),
        #shopify-section-{{ section.id }} td.image_with__text-table-col.withimage{
            width: 60%;
        }
        #shopify-section-{{ section.id }} td.image_with__text-table-col:first-child{
            width: 16%;
            padding: 12px 24px !important;
        }

        #shopify-section-{{ section.id }} .image_with__text-table {
            margin-bottom: 40px;
        }
    }

    @media (max-width: 768px){
        #shopify-section-{{ section.id }}{
            padding: 38px 24px;
        }

        #shopify-section-{{ section.id }} .view__all-button a{
            width: 100%;
        }


        #shopify-section-{{ section.id }} ul.image_with__text-list-items {
            list-style: none;
            margin: 18px 0 0px 0;
        }

        #shopify-section-{{ section.id }} .image_with__text-col img{
            width: 100%;
        }

        #shopify-section-{{ section.id }} .image_with__text-theader,
        #shopify-section-{{ section.id }} .image_with__text-theader p{
            margin-bottom: 0px;
        }
    }

     @media (max-width: 767px){
    #shopify-section-{{ section.id }} .view__all-button a{
      font-size:20px;
      padding: 19px 18px;
    }
  }
</style>

{% schema %}
{
    "name": "Image with table content",
    "class": "shopify-image-with-table-content",
    "settings": [
        {
            "type": "richtext",
            "id": "content",
            "label": "Section title",
            "info": "Please make the word bold if you want to highlight to show the highlight color",
            "default": "<p>Lorem ipsum dolor <strong>sit amet</strong></p>"
        },
        {
            "type": "richtext",
            "id": "scontent",
            "label": "Section Description"
        },
        {
            "type": "image_picker",
            "id": "img",
            "label": "Main Image"
        },
        {
            "type": "text",
            "id": "btntext",
            "label": "Button label",
            "default": "SHOP NOW"
        },
        {
            "type": "url",
            "id": "btnurl",
            "label": "Button link"
        },
        {
            "type": "color",
            "id": "bgcolor",
            "label": "Background Color",
            "default": "transparent"
        }
    ],
    "blocks":[
        {
            "type": "list",
            "name": "Featured list",
            "settings": [
                {
                    "type": "text",
                    "id": "listtext",
                    "label": "List text",
                    "default": "Lorem ipsum dolor sit amet"
                }
            ]
        },
        {
            "type": "dataheader",
            "name": "Table header",
            "limit": 1,
            "settings": [
                {
                    "type": "text",
                    "id": "ttext1",
                    "label": "Content Column 1"
                },
                {
                    "type": "image_picker",
                    "id": "imgitem1",
                    "label": "Image Column 1",
                    "info": "This is useful on adding your logo for comparison and this will replace the text title"
                },
                {
                    "type": "text",
                    "id": "ttext2",
                    "label": "Content Column 2",
                    "default": "Company 1"
                },
                {
                    "type": "image_picker",
                    "id": "imgitem2",
                    "label": "Image Column 2",
                    "info": "This is useful on adding your logo for comparison and this will replace the text title"
                },
                {
                    "type": "text",
                    "id": "ttext3",
                    "label": "Content Column 3",
                    "default": "Company 2"
                },
                {
                    "type": "image_picker",
                    "id": "imgitem3",
                    "label": "Image Column 3",
                    "info": "This is useful on adding your logo for comparison and this will replace the text title"
                },
                {
                    "type": "text",
                    "id": "ttext4",
                    "label": "Content Column 4",
                    "default": "Company 3"
                },
                {
                    "type": "image_picker",
                    "id": "imgitem4",
                    "label": "Image Column 4",
                    "info": "This is useful on adding your logo for comparison and this will replace the text title"
                }
            ]
        },
        {
            "type": "datatable",
            "name": "Table data",
            "settings": [
                {
                    "type": "text",
                    "id": "ttext1",
                    "label": "Content Column 1"
                },
                {
                    "type": "checkbox",
                    "id": "tcol1",
                    "label": "Is Checked?",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "tcol2",
                    "label": "Is Checked?",
                    "default": false
                },
                {
                    "type": "checkbox",
                    "id": "tcol3",
                    "label": "Is Checked?",
                    "default": false
                }
            ]
        }
    ],
    "presets": [
        {
        "name": "Image with table content",
          "category": "Product",
          "blocks":[
            {
                "type": "list"
            },
            {
                "type": "list"
            },
            {
                "type": "list"
            },
            {
                "type": "list"
            },
            {
                "type": "dataheader"
            },
            {
                "type": "datatable"
            },
            {
                "type": "datatable"
            }
          ]
        }
    ]
}
{% endschema %}